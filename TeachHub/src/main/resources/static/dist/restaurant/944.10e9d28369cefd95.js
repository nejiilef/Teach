"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[944],{944:(M,_,c)=>{c.r(_),c.d(_,{CoursModule:()=>z});var m=c(177),p=c(7681),h=c(7468),e=c(8699),g=c(2932),r=c(9417);function b(n,u){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",8)(2,"div",9)(3,"input",10),e.bIt("ngModelChange",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.courseCode=s)}),e.k0s(),e.j41(4,"label",11),e.EFF(5,"Rejoindre le cours"),e.k0s()(),e.j41(6,"button",12),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.joinCourse())}),e.nrm(7,"i",13),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngModel",t.courseCode)}}function f(n,u){if(1&n&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",t.successMessage," ")}}function y(n,u){if(1&n&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",t.errorMessage," ")}}function i(n,u){if(1&n&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Lme("",t.enseignant.nom," ",t.enseignant.prenom,"")}}function d(n,u){1&n&&(e.j41(0,"p"),e.EFF(1,"Enseignant non disponible"),e.k0s())}const v=function(n){return["/cours","update",n]};function C(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",26)(1,"button",27),e.nrm(2,"i",28),e.EFF(3," Update "),e.k0s(),e.j41(4,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.onSelectCourse(s.idCours))}),e.nrm(5,"i",30),e.EFF(6," Document "),e.k0s()()}if(2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("routerLink",e.eq3(1,v,t.idCours))}}const O=function(n){return["/devoirs","list",n]};function F(n,u){if(1&n&&(e.j41(0,"div")(1,"article",18)(2,"div",19),e.nrm(3,"img",20),e.k0s(),e.j41(4,"div",21),e.DNE(5,i,2,2,"p",4),e.DNE(6,d,2,0,"p",4),e.k0s(),e.j41(7,"div",22)(8,"div")(9,"span",23)(10,"b"),e.EFF(11),e.k0s()(),e.j41(12,"span",24),e.EFF(13),e.k0s(),e.j41(14,"span",24),e.EFF(15),e.k0s(),e.DNE(16,C,7,3,"div",25),e.k0s()()()()),2&n){const t=u.$implicit,o=e.XpG(2);e.R7$(1),e.Y8G("routerLink",e.eq3(7,O,t.idCours)),e.R7$(4),e.Y8G("ngIf",t.enseignant),e.R7$(1),e.Y8G("ngIf",!t.enseignant),e.R7$(5),e.JRh(t.nom),e.R7$(2),e.SpI("Coefficient : ",t.coefficient,""),e.R7$(2),e.SpI("Credits : ",t.credits,""),e.R7$(1),e.Y8G("ngIf",o.test)}}function P(n,u){if(1&n&&(e.j41(0,"main",16),e.DNE(1,F,17,9,"div",17),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.coursList)}}function S(n,u){if(1&n&&(e.j41(0,"div")(1,"p")(2,"strong"),e.EFF(3,"Selected file:"),e.k0s(),e.EFF(4),e.k0s()()),2&n){const t=e.XpG();e.R7$(4),e.SpI(" ",t.selectedFile.name,"")}}function D(n,u){1&n&&(e.j41(0,"span"),e.EFF(1,"Uploading..."),e.k0s())}function $(n,u){1&n&&(e.j41(0,"span"),e.EFF(1,"Upload"),e.k0s())}const U=function(n,u){return{success:n,error:u}};function w(n,u){if(1&n&&(e.j41(0,"div",5)(1,"p",6),e.EFF(2),e.k0s()()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngClass",e.l_i(2,U,t.uploadSuccess,!t.uploadSuccess)),e.R7$(1),e.JRh(t.uploadMessage)}}const T=[{path:"",component:(()=>{class n{constructor(t,o){this.service=t,this.router=o,this.btStyle={"border-radius":"4px","text-align":"center"},this.coursList=[],this.courseCode="",this.studentEmail="",this.role=localStorage.getItem("role"),this.documentsList=[],this.errorMessage="",this.successMessage="",this.coursMap=new Map}ngDoCheck(){}ngOnInit(){this.test="etudiant"!==localStorage.getItem("role");const t=localStorage.getItem("role"),o=localStorage.getItem("id"),s=localStorage.getItem("email");"enseignant"===t&&o&&s?(0,h.p)([this.service.getCoursByEnseignantId(+o),this.service.getCoursesForInvitedTeacher(s)]).subscribe(([a,l])=>{this.coursList=[...a,...l]},a=>console.error("Erreur lors de la r\xe9cup\xe9ration des cours",a)):"etudiant"===t&&o&&this.service.getCoursByStudentId(+o).subscribe(a=>{this.coursList=a},a=>console.error("Erreur lors de la r\xe9cup\xe9ration des cours pour l'\xe9tudiant",a))}getCoursesForInvitedTeacher(t){this.service.getCoursesForInvitedTeacher(t).subscribe(o=>{this.coursList=o},o=>{console.error("Erreur lors de la r\xe9cup\xe9ration des cours pour l'enseignant invit\xe9",o)})}deleteCours(t){this.service.deleteCours(t).subscribe(o=>{this.ngOnInit()})}joinCourse(){if(this.errorMessage="",this.successMessage="",this.courseCode.trim()){const t=localStorage.getItem("id");t&&this.service.inviteStudentById(this.courseCode,+t).subscribe(o=>{console.log("Cours rejoint avec succ\xe8s :",o),this.successMessage="Vous avez rejoint le cours avec succ\xe8s.",this.ngOnInit()},o=>{console.error("Erreur lors de la tentative de rejoindre le cours :",o),400===o.status?this.errorMessage="Erreur lors de la tentative de rejoindre le cours .":this.successMessage="Vous avez rejoint le cours avec succ\xe8s."})}}onSelectCourse(t){localStorage.setItem("courId",t.toString());const o=this.coursList.find(s=>s.idCours===t)?.enseignantId;o?localStorage.setItem("enseignantId",o.toString()):console.error("Aucun enseignant trouv\xe9 pour le cours:",t),this.router.navigate(["/cours/deposer-document"])}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(g.W),e.rXU(p.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-list-cours"]],decls:10,vars:4,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/font-awesome@6.3.0/css/all.min.css"],[4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","main bd-grid",4,"ngIf"],[1,"form-container"],[1,"form-floating"],["type","text","id","floatingPassword","placeholder","Entrez le code du cours",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-plus"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"main","bd-grid"],[4,"ngFor","ngForOf"],[1,"card",2,"cursor","pointer",3,"routerLink"],[1,"card__img"],["src","../../../assets/images/cours.png","alt",""],[1,"card__name"],[1,"card__precis"],[1,"card__preci","card__preci--before"],[1,"card__preci","card__preci--now"],["class","center-container",4,"ngIf"],[1,"center-container"],[1,"primary-cta",3,"routerLink"],[1,"fa-solid","fa-pencil",2,"margin-right","5px"],[1,"primary-cta",3,"click"],[1,"fa-solid","fa-file-upload",2,"margin-right","5px"]],template:function(o,s){1&o&&(e.j41(0,"html",0)(1,"head"),e.nrm(2,"meta",1)(3,"meta",2)(4,"link",3),e.k0s(),e.j41(5,"body"),e.DNE(6,b,8,1,"div",4),e.DNE(7,f,2,1,"div",5),e.DNE(8,y,2,1,"div",6),e.DNE(9,P,2,1,"main",7),e.k0s()()),2&o&&(e.R7$(6),e.Y8G("ngIf","etudiant"===s.role),e.R7$(1),e.Y8G("ngIf",s.successMessage),e.R7$(1),e.Y8G("ngIf",s.errorMessage),e.R7$(1),e.Y8G("ngIf",s.coursList.length>0))},dependencies:[m.Sq,m.bT,p.Wk,r.me,r.BC,r.vS],styles:['@import"https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap";.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.message[_ngcontent-%COMP%]{padding:10px;margin:10px 0;border-radius:4px;text-align:center}.success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border:1px solid #c3e6cb}.error[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border:1px solid #f5c6cb}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;position:absolute;top:10px;right:10px}.form-floating[_ngcontent-%COMP%]{margin-right:8px}.form-control[_ngcontent-%COMP%]{width:200px;height:40px}[_ngcontent-%COMP%]:root{--first-color: #E3F8FF;--second-color: #DCFAFB;--third-color: #FFE8DF;--accent-color: #FF5151;--dark-color: #161616}[_ngcontent-%COMP%]:root{--body-font: "Open Sans";--h1-font-size: 1.5rem;--h3-font-size: 1rem;--normal-font-size: .938rem;--smaller-font-size: .75rem}@media screen and (min-width: 768px){[_ngcontent-%COMP%]:root{--h1-font-size: 2rem;--normal-font-size: 1rem;--smaller-font-size: .813rem}}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:2rem 0 0;background-color:#fff;color:#161616;font-family:var(--body-font)}h1[_ngcontent-%COMP%]{font-size:var(--h1-font-size)}img[_ngcontent-%COMP%]{max-width:100%;height:auto}a[_ngcontent-%COMP%]{text-decoration:none}.main[_ngcontent-%COMP%]{padding:2rem 0}.bd-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));max-width:1200px;margin-left:2.5rem;margin-right:2.5rem;align-items:center;gap:2rem}.title-shop[_ngcontent-%COMP%]{position:relative;margin:0 2.5rem}.title-shop[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:72px;height:2px;background-color:#161616;margin-left:.25rem}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;padding:1.5rem 2rem;border-radius:1rem;overflow:hidden}article[_ngcontent-%COMP%]:nth-child(n){background-color:#fafef2}.card__img[_ngcontent-%COMP%]{width:180px;height:auto;padding:3rem 0;transition:.5s}.card__name[_ngcontent-%COMP%]{position:absolute;left:-25%;top:0;width:3.5rem;height:100%;writing-mode:vertical-rl;transform:rotate(180deg);text-align:center;background-color:#161616;color:#fff;font-weight:700;transition:.5s}.card__icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#161616}.card__icon[_ngcontent-%COMP%]:hover{color:#ff5151}.card__precis[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:flex-end;transition:.5s}.card__preci[_ngcontent-%COMP%]{display:block;text-align:center}.card__preci--before[_ngcontent-%COMP%]{font-size:1.7rem;color:#6d4324;margin-bottom:.25rem}.card__preci--now[_ngcontent-%COMP%]{font-size:var(--h3-font-size);font-weight:700}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #d1d9e6}.card[_ngcontent-%COMP%]:hover   .card__name[_ngcontent-%COMP%]{left:0}.card[_ngcontent-%COMP%]:hover   .card__img[_ngcontent-%COMP%]{transform:rotate(30deg);margin-left:3.5rem}.card[_ngcontent-%COMP%]:hover   .card__precis[_ngcontent-%COMP%]{margin-left:3.5rem;padding:0 1.5rem}@media screen and (min-width: 1200px){body[_ngcontent-%COMP%]{margin:3rem 0 0}.title-shop[_ngcontent-%COMP%]{margin:0 5rem}.bd-grid[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}.primary-cta[_ngcontent-%COMP%]{font-size:16px;background-color:#c8b79e;color:#fff;border:none;border-radius:.5em;padding:.5em 1em;cursor:pointer;transition:background-color .3s,transform .2s;display:flex;align-items:center;margin-right:5px}.primary-cta[_ngcontent-%COMP%]:hover{background-color:#a89579;transform:translateY(-2px)}.primary-cta[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #c8b79e80}']})}return n})()},{path:"add",component:(()=>{class n{constructor(t,o){this.service=t,this.router=o,this.subbmited=!1,this.addCours=s=>{this.service.addCours({nom:s.value.nom,coefficient:s.value.coefficient,credits:s.value.credits}).subscribe(l=>{this.router.navigate(["/cours"])})}}onSubmit(t){this.subbmited=!0,!t.invalid&&this.addCours(t)}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(g.W),e.rXU(p.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-add-cours"]],decls:25,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css","integrity","sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==","crossorigin","anonymous","referrerpolicy","no-referrer"],[2,"display","flex","align-items","center","justify-content","center"],[1,"login-page"],[1,"form"],["method","post",1,"login-form",3,"ngSubmit"],["f","ngForm"],[1,"fa-regular","fa-square-plus"],["type","text","placeholder","Nom","id","nom","name","nom","ngModel","","required","",1,"form-control"],["c","ngModel"],["type","number","placeholder","Coefficient","id","nom","name","coefficient","ngModel","","required","",1,"form-control"],["type","number","placeholder","Credits","id","nom","name","credits","ngModel","","required","",1,"form-control"],["type","submit","name","send2"]],template:function(o,s){if(1&o){const a=e.RV6();e.j41(0,"html",0)(1,"head"),e.nrm(2,"meta",1)(3,"meta",2)(4,"meta",3),e.j41(5,"title"),e.EFF(6,"TeachHub"),e.k0s(),e.nrm(7,"link",4),e.k0s(),e.j41(8,"body",5)(9,"div",6)(10,"div",7)(11,"form",8,9),e.bIt("ngSubmit",function(){e.eBV(a);const x=e.sdS(12);return e.Njj(s.onSubmit(x))}),e.j41(13,"h2"),e.nrm(14,"i",10),e.EFF(15," Nouveau cours "),e.k0s(),e.nrm(16,"input",11,12)(18,"input",13,12)(20,"input",14,12)(22,"br"),e.j41(23,"button",15),e.EFF(24,"Ajouter"),e.k0s()()()()()()}},dependencies:[r.qT,r.me,r.Q0,r.BC,r.cb,r.YS,r.vS,r.cV],styles:['@import"https://fonts.googleapis.com/css?family=Poppins:300";body[_ngcontent-%COMP%]{background-color:wheat;background-image:linear-gradient(160deg,#a18f67 0%,#b5996f 100%);font-family:Arial,sans-serif;height:100vh}.login-page[_ngcontent-%COMP%]{width:400px;padding:8% 0 0;margin:auto}.form[_ngcontent-%COMP%]{position:relative;z-index:1;background:#FFFFFF;max-width:400px;margin:0 auto 100px;padding:45px;text-align:center;border-radius:15px;box-shadow:0 0 20px #0003,0 5px 5px #0000003d}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;outline:0;background:#f2f2f2;width:100%;border:0;border-radius:7px;padding:15px;box-sizing:border-box;font-size:14px;margin-top:8%;margin-bottom:5%}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;text-transform:uppercase;outline:0;background:#6d4b14;width:100%;border:0;padding:15px;color:#fff;border-radius:7px;font-size:14px;transition:all .3 ease;cursor:pointer}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#9a8a6f}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin:15px 0 0;color:#b3b3b3;font-size:12px}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#234666;text-decoration:none}.form[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]{display:none}']})}return n})()},{path:"update/:id",component:(()=>{class n{constructor(t,o,s,a){this.formBuilder=t,this.activatedRoute=o,this.service=s,this.router=a,this.submitted=!1,this.role=localStorage.getItem("role")}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.service.getCoursById(+t.id).subscribe(o=>{o&&(this.cours=o,console.log(o),this.initializeForm())})})}initializeForm(){this.UpdateCoursForm=this.formBuilder.group({nom:[this.cours.nom,r.k0.required],coefficient:[this.cours.coefficient,r.k0.required],credits:[this.cours.credits,r.k0.required]})}updateCours(){if(this.UpdateCoursForm.invalid)return;const t=this.UpdateCoursForm.value,o={nom:t.nom,coefficient:t.coefficient,credits:t.credits};console.log("Updated Cours DTO:",o),this.service.updateCours(o,this.cours.idCours).subscribe(()=>{this.router.navigate(["cours"])})}onSubmit(){this.submitted=!0,this.updateCours()}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(r.ok),e.rXU(p.nX),e.rXU(g.W),e.rXU(p.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-update-cours"]],decls:25,vars:3,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css","integrity","sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==","crossorigin","anonymous","referrerpolicy","no-referrer"],["rel","stylesheet","href","/css/styles.css"],[2,"display","flex","align-items","center","justify-content","center"],[1,"login-page"],[1,"form"],["method","post",1,"login-form",3,"formGroup","ngSubmit"],[1,"fa-solid","fa-pen-to-square"],["type","text","id","prenom","name","prenom","formControlName","prenom",1,"form-control",3,"hidden"],["type","text","id","nom","name","nom","formControlName","nom","placeholder","Nom",1,"form-control"],["type","number","id","coefficient","name","coefficient","formControlName","coefficient","placeholder","Coefficient",1,"form-control"],["type","number","id","credits","name","credits","formControlName","credits","placeholder","Credits",1,"form-control"],["type","submit","name","send2"]],template:function(o,s){1&o&&(e.j41(0,"html",0)(1,"head"),e.nrm(2,"meta",1)(3,"meta",2)(4,"meta",3),e.j41(5,"title"),e.EFF(6,"Webleb"),e.k0s(),e.nrm(7,"link",4)(8,"link",5),e.k0s(),e.j41(9,"body",6)(10,"div",7)(11,"div",8)(12,"form",9),e.bIt("ngSubmit",function(){return s.updateCours()}),e.j41(13,"h2"),e.nrm(14,"i",10),e.EFF(15," Modifier cours"),e.k0s(),e.nrm(16,"br")(17,"input",11)(18,"input",11)(19,"input",12)(20,"input",13)(21,"input",14)(22,"br"),e.j41(23,"button",15),e.EFF(24,"Modifier"),e.k0s()()()()()()),2&o&&(e.R7$(12),e.Y8G("formGroup",s.UpdateCoursForm),e.R7$(5),e.Y8G("hidden",!0),e.R7$(1),e.Y8G("hidden",!0))},dependencies:[r.qT,r.me,r.Q0,r.BC,r.cb,r.j4,r.JD],styles:['@import"https://fonts.googleapis.com/css?family=Poppins:300";body[_ngcontent-%COMP%]{background-color:wheat;background-image:linear-gradient(160deg,#a18f67 0%,#b5996f 100%);font-family:Arial,sans-serif;height:100vh}.login-page[_ngcontent-%COMP%]{width:400px;padding:8% 0 0;margin:auto}.form[_ngcontent-%COMP%]{position:relative;z-index:1;background:#FFFFFF;max-width:400px;margin:0 auto 100px;padding:45px;text-align:center;border-radius:15px;box-shadow:0 0 20px #0003,0 5px 5px #0000003d}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;outline:0;background:#f2f2f2;width:100%;border:0;border-radius:7px;padding:15px;box-sizing:border-box;font-size:14px;margin-top:8%;margin-bottom:5%}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;text-transform:uppercase;outline:0;background:#6d4b14;width:100%;border:0;padding:15px;color:#fff;border-radius:7px;font-size:14px;transition:all .3 ease;cursor:pointer}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#9a8a6f}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin:15px 0 0;color:#b3b3b3;font-size:12px}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#234666;text-decoration:none}.form[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]{display:none}']})}return n})()},{path:"invite-student",component:(()=>{class n{constructor(t,o){this.service=t,this.router=o,this.submitted=!1}onSubmit(t){if(this.submitted=!0,!t.invalid){const o=t.value.courseCode,s=t.value.studentId,a=t.value.studentEmail;s?this.service.inviteStudentById(o,s).subscribe(l=>{console.log("Invitation sent successfully:",l),this.router.navigate(["/cours"])},l=>{console.error("Error sending invitation:",l)}):a&&this.service.inviteStudentByEmail(o,a).subscribe(l=>{console.log("Invitation sent successfully:",l),this.router.navigate(["/cours"])},l=>{console.error("Error sending invitation:",l)})}}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(g.W),e.rXU(p.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-invite-student"]],decls:18,vars:0,consts:[[3,"ngSubmit"],["inviteForm","ngForm"],["for","courseCode"],["type","text","id","courseCode","name","courseCode","ngModel","","required",""],["for","studentId"],["type","number","id","studentId","name","studentId","ngModel",""],["for","studentEmail"],["type","email","id","studentEmail","name","studentEmail","ngModel",""],["type","submit"]],template:function(o,s){if(1&o){const a=e.RV6();e.j41(0,"p"),e.EFF(1,"invite-student works!"),e.k0s(),e.j41(2,"form",0,1),e.bIt("ngSubmit",function(){e.eBV(a);const x=e.sdS(3);return e.Njj(s.onSubmit(x))}),e.j41(4,"div")(5,"label",2),e.EFF(6,"Course Code:"),e.k0s(),e.nrm(7,"input",3),e.k0s(),e.j41(8,"div")(9,"label",4),e.EFF(10,"Student ID:"),e.k0s(),e.nrm(11,"input",5),e.k0s(),e.j41(12,"div")(13,"label",6),e.EFF(14,"Student Email:"),e.k0s(),e.nrm(15,"input",7),e.k0s(),e.j41(16,"button",8),e.EFF(17,"Invite Student"),e.k0s()()}},dependencies:[r.qT,r.me,r.Q0,r.BC,r.cb,r.YS,r.vS,r.cV]})}return n})()},{path:"deposer-document",component:(()=>{class n{constructor(t,o){this.coursService=t,this.router=o,this.selectedFile=null,this.courId=0,this.enseignantId=0,this.isUploading=!1,this.uploadMessage="",this.uploadSuccess=!1}onFileSelected(t){this.selectedFile=t.target.files[0]}ngOnInit(){const t=localStorage.getItem("courId"),o=localStorage.getItem("id");this.courId=t?Number(t):0,this.enseignantId=o?Number(o):0,console.log("Cour ID:",this.courId),console.log("Enseignant ID:",this.enseignantId),(!this.courId||!this.enseignantId)&&console.error("Les ID du cours ou de l'enseignant sont invalides")}onUpload(){this.selectedFile?(this.isUploading=!0,this.coursService.uploadDocument(this.selectedFile,this.courId,this.enseignantId).subscribe(t=>{console.log("Document uploaded successfully:",t),this.uploadMessage="Document uploaded successfully!",this.uploadSuccess=!0,this.isUploading=!1},t=>{console.error("Error uploading document:",t),this.uploadMessage="Error uploading document, please try again.",this.uploadSuccess=!1,this.isUploading=!1,this.router.navigate(["/cours"])})):alert("Please select a file first.")}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(g.W),e.rXU(p.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-deposer-document"]],decls:9,vars:5,consts:[[1,"upload-container"],[4,"ngIf"],["type","file",1,"file-input",3,"change"],[1,"upload-btn",3,"disabled","click"],["class","upload-message",4,"ngIf"],[1,"upload-message"],[3,"ngClass"]],template:function(o,s){1&o&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Upload Document"),e.k0s(),e.DNE(3,S,5,1,"div",1),e.j41(4,"input",2),e.bIt("change",function(l){return s.onFileSelected(l)}),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return s.onUpload()}),e.DNE(6,D,2,0,"span",1),e.DNE(7,$,2,0,"span",1),e.k0s(),e.DNE(8,w,3,5,"div",4),e.k0s()),2&o&&(e.R7$(3),e.Y8G("ngIf",s.selectedFile),e.R7$(2),e.Y8G("disabled",s.isUploading),e.R7$(1),e.Y8G("ngIf",s.isUploading),e.R7$(1),e.Y8G("ngIf",!s.isUploading),e.R7$(1),e.Y8G("ngIf",s.uploadMessage))},dependencies:[m.YU,m.bT],styles:[".upload-container[_ngcontent-%COMP%]{text-align:center;max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 10px #0000001a}.file-input[_ngcontent-%COMP%]{margin:20px 0;padding:10px;border:2px solid #ddd;border-radius:5px}.upload-btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}.upload-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}.upload-message[_ngcontent-%COMP%]{margin-top:20px}.upload-message.success[_ngcontent-%COMP%]{color:green}.upload-message.error[_ngcontent-%COMP%]{color:red}"]})}return n})()}];let R=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[p.iI.forChild(T),p.iI]})}return n})();var G=c(1141);let z=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[m.MD,R,G.tm,r.YN,r.X1]})}return n})()},2932:(M,_,c)=>{c.d(_,{W:()=>b});var m=c(9437),p=c(8810),h=c(8699),e=c(1626),g=c(9454);const r=["http://localhost:9099/"];let b=(()=>{class f{constructor(i,d){this.http=i,this.service=d,this.apiUrl="http://localhost:9099/",this.headers=this.service.createAuthorizationHeader()}getAllCours(){return this.http.get(r+"cours/"+localStorage.getItem("id"),{headers:this.headers})}addCours(i){return this.http.post(r+"addcour/"+localStorage.getItem("username"),i,{headers:this.headers})}updateCours(i,d){return this.http.put(r+"updatecours/"+d,i,{headers:this.headers})}deleteCours(i){return this.http.delete(r+"deletecours/"+i,{headers:this.headers,responseType:"text"})}inviteStudentById(i,d){return this.http.post(`${r}${i}/inviteById/${d}`,{},{headers:this.headers})}getCoursByStudentId(i){return this.http.get(`${r}cours/etudiant/${i}`,{headers:this.headers})}getCoursByEnseignantId(i){return this.http.get(`${r}cours/enseignant/${i}`,{headers:this.headers}).pipe((0,m.W)(this.handleError))}handleError(i){return i.error instanceof ErrorEvent?console.error("Une erreur c\xf4t\xe9 client est survenue:",i.error.message):console.error(`Erreur du serveur : ${i.status}, message : ${i.message}`),(0,p.$)("Une erreur est survenue. Veuillez r\xe9essayer plus tard.")}inviteStudentByEmail(i,d){return this.http.post(`${r}${i}/inviteByEmail`,{studentEmail:d},{headers:this.headers})}inviteTeacherByEmail(i,d){return this.http.post(`${r}${i}/inviteTeacherByEmail`,{teacherEmail:d},{headers:this.headers})}getCoursById(i){return this.http.get(`${r}cours/${i}`,{headers:this.headers})}getCoursesForInvitedTeacher(i){return this.http.get(`${r}cours/invited-enseignant/${i}`,{headers:this.headers})}uploadDocument(i,d,v){const C=new FormData;return C.append("file",i,i.name),this.http.post(`${r}upload/${d}/${v}`,C,{headers:this.headers})}getDocumentsByCourId(i){return this.http.get(`${r}cours/${i}/documents`,{headers:this.headers})}downloadDocument(i){return this.http.get(`${r}documents/${i}`,{responseType:"blob"})}static#e=this.\u0275fac=function(d){return new(d||f)(h.KVO(e.Qq),h.KVO(g.u))};static#t=this.\u0275prov=h.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()}}]);